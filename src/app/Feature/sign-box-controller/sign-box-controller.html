<div class="container-fluid">
  <div class="header">
    <h1 class="title">Traffic Signal Management</h1>

    <div class="search-container">
      <div class="search-box">
        <i class="fas fa-search search-icon"></i>
        <input
          type="text"
          class="search-input"
          placeholder="Search by name or ID..."
          [(ngModel)]="searchParameter.searchText"
          (keyup.enter)="onSearchEnter()"
        />
      </div>

      <div class="filter-dropdown active-filter-dropdown">
        <button class="filter-button" (click)="showActiveFilter = !showActiveFilter">
          <i class="fas fa-power-off"></i>
          {{ activeFilter }}
          <i class="fas fa-chevron-down"></i>
        </button>
        <div class="filter-menu" [class.show]="showActiveFilter">
          <div class="filter-option" (click)="setActiveFilter('ALL')">
            <span>All</span>
            <span class="checkmark">{{ activeFilter === 'ALL' ? '✓' : '' }}</span>
          </div>
          <div class="filter-option" (click)="setActiveFilter('ACTIVE')">
            <span>Active Only</span>
            <span class="checkmark">{{ activeFilter === 'ACTIVE' ? '✓' : '' }}</span>
          </div>
          <div class="filter-option" (click)="setActiveFilter('INACTIVE')">
            <span>Inactive Only</span>
            <span class="checkmark">{{ activeFilter === 'INACTIVE' ? '✓' : '' }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Table -->
  <div class="table-scroll">
    <table class="traffic-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>IP Address</th>
          <th>Name</th>
          <th class="actions-col">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of filteredData">
          <td>{{ item.id }}</td>
          <td>{{ item.ipAddress }}</td>
          <td>{{ item.name }}</td>
          <td class="actions-cell">
            <!-- <button class="btn btn--apply" (click)="applyPattern(item)">
              <i class="fas fa-check"></i> Apply
            </button> -->
            <button class="btn btn--edit" (click)="onEdit(item)">
              <i class="fas fa-edit"></i>Edit & Apply
            </button>
          </td>
        </tr>

        <tr *ngIf="filteredData.length === 0">
          <td colspan="4" class="no-results">No traffic signals found</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
